<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Container Configuration</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><h1>Container Configuration</h1><br /><br /><h2>Location of Important Files</h2><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;List&nbsp;of&nbsp;container&nbsp;shell&nbsp;scripts</span><br /><span style="color:#ff9d00;font-weight:700">cd</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>usr<span style="color:#ff9d00;font-weight:700">/</span>share<span style="color:#ff9d00;font-weight:700">/</span>lxc<span style="color:#ff9d00;font-weight:700">/</span>templates<span style="color:#ff9d00;font-weight:700">/</span><br /><span style="color:#ff9d00;font-weight:700">ls</span></div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;List&nbsp;of&nbsp;existing&nbsp;containers</span><br /><span style="color:#ff9d00;font-weight:700">cd</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>var<span style="color:#ff9d00;font-weight:700">/</span>lib<span style="color:#ff9d00;font-weight:700">/</span>lxc<br /><span style="color:#ff9d00;font-weight:700">ls</span><br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;root&nbsp;fs&nbsp;of&nbsp;a&nbsp;container</span><br /><span style="color:#ff9d00;font-weight:700">cd</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>var<span style="color:#ff9d00;font-weight:700">/</span>lib<span style="color:#ff9d00;font-weight:700">/</span>lxc<span style="color:#ff9d00;font-weight:700">/</span>my_first_container<span style="color:#ff9d00;font-weight:700">/</span>rootfs<br /><span style="color:#ff9d00;font-weight:700">ls</span></div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;mount&nbsp;something&nbsp;inside&nbsp;fstab</span><br /><span style="color:#ff9d00;font-weight:700">cd</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>var<span style="color:#ff9d00;font-weight:700">/</span>lib<span style="color:#ff9d00;font-weight:700">/</span>lxc<span style="color:#ff9d00;font-weight:700">/</span>my_first_container<span style="color:#ff9d00;font-weight:700">/</span>fstab</div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Sample Configuration</h2><br />â€¢ Reboot to make the changes take effect<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Add&nbsp;the&nbsp;following&nbsp;to&nbsp;/var/lib/lxc/my_first_container/config</span><br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Configure&nbsp;a&nbsp;Static&nbsp;IP&nbsp;Address</span><br />lxc.network.ipv4&nbsp;=&nbsp;10.0.3.100<span style="color:#ff9d00;font-weight:700">/</span>24&nbsp;10.0.3.255<br />lxc.network.ipv4.gateway&nbsp;=&nbsp;auto&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;use&nbsp;vbridge</span><br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Auto&nbsp;start</span><br />lxc.start.auto&nbsp;=&nbsp;1<br />lxc.start.delay&nbsp;=&nbsp;15&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;for&nbsp;the&nbsp;next&nbsp;container&nbsp;to&nbsp;start&nbsp;(in&nbsp;sec)</span><br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Boot&nbsp;order</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Higher&nbsp;number&nbsp;starts&nbsp;first</span><br />lxc.start.order&nbsp;=&nbsp;10<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Container&nbsp;grouping</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;if&nbsp;set,&nbsp;auto&nbsp;start&nbsp;is&nbsp;ignored</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;lxc.group&nbsp;=&nbsp;infrastructure,dns</span></div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Disable&nbsp;ip&nbsp;address&nbsp;allocation&nbsp;via&nbsp;dhcp&nbsp;in&nbsp;container</span><br />lxc-attach&nbsp;-n&nbsp;my_first_container<br />nano&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>etc<span style="color:#ff9d00;font-weight:700">/</span>network<span style="color:#ff9d00;font-weight:700">/</span>interfaces<br /><span style="color:#0088ff;font-weight:400">#&nbsp;comment&nbsp;out&nbsp;iface&nbsp;eth0&nbsp;inet&nbsp;dhcp</span></div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Test Boot Order &amp; Delay</h2><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;List&nbsp;the&nbsp;boot&nbsp;order</span><br />lxc-autostart&nbsp;-L<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Run&nbsp;autostart</span><br />lxc-autostart&nbsp;-a</div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Further Reading</h2><br /><br /><div class="codebox"><div class="codebox"><span style="color:#ff9d00;font-weight:700">man</span>&nbsp;5&nbsp;lxc.container.config</div></div><br /><br /><br /><p align="center"><img src="images\home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>