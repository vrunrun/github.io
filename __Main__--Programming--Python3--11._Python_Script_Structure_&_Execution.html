<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>11. Python Script Structure & Execution</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><h1>Python Script Structure and Execution</h1><br /><br /><h2>How Python Script is Excecuted</h2><br /><br />• The interpreter executes scripts “synchronously”<br />   ◇ Line by line; From top to bottom<br />• If a particular statement takes a while to compute or is waiting on a response from some external source (like making an API call and waiting on the response), Python stops and waits for the current statement to finish executing before moving on to the next one<br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Script vs. Module</h2><br /><br />• A Python file can be referred as a <em>script</em> or <em>module</em><br />• <strong>Script</strong>: the file is intended to be executed<br />• <strong>Module</strong>: the file contents are meant to be imported and used by another calling script<br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Components of a Script / Module<br /><br /></h2>• The linear execution order of statements within a Python file drives the following  ordering convention:<br /><br /><h3>1. The “Shebang” Line</h3><br /><br />• This line tells the shell attempting to run the script what interpreter should be used to "execute" the script<br />• The Python interpreter sees this line as a comment and ignores it<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#!/usr/bin/env&nbsp;python</span></div></div><br /><br /><h3>2. The Module Docstring</h3><br /><br />• Refers to the triple-quoted string at the beginning of the file<br /><br /><div class="codebox"><div class="codebox"><span style="color:#3ad900;font-weight:400">"""Module&nbsp;docstring."""</span></div></div><br /><br /><h3>3. Import Statements</h3><br /><br />• Import other code into your script so that you can use their functionality<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Imports</span><br /><span style="color:#333333;font-weight:400">import</span>&nbsp;os<br /><span style="color:#333333;font-weight:400">import</span>&nbsp;sys</div></div><br /><br /><h3>4. Module “Constants”</h3><br /><br />• Using all-CAPS variable names to indicate these variables shouldn't be changed<br />• Nothing in Python makes these “constant”<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Module&nbsp;Constants</span><br />START_MESSAGE&nbsp;=&nbsp;<span style="color:#3ad900;font-weight:400">"CLI&nbsp;Inspection&nbsp;Script"</span></div></div><br /><br /><h3>5. Module-Level “Global” Variables</h3><br /><br />• Every function and class within the module will have at least "read access" to these variables as they exist at the top-level "global" scope within a module<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Module&nbsp;"Global"&nbsp;Variables</span><br />location&nbsp;=&nbsp;os.path.abspath(__file__)</div></div><br /><br /><h3>6. Module Functions and Classes</h3><br /><br />• A function (or class) definition is loaded (stored) in memory by the interpreter<br />•  You must call a function (supplying any needed arguments) to execute it<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Module&nbsp;Functions&nbsp;and&nbsp;Classes</span><br />def&nbsp;main(*args):<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"""My&nbsp;main&nbsp;script&nbsp;function.<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;Displays&nbsp;the&nbsp;full&nbsp;patch&nbsp;to&nbsp;this&nbsp;script,&nbsp;and&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;arguments&nbsp;passed&nbsp;to&nbsp;the&nbsp;script.<br />&nbsp;&nbsp;&nbsp;&nbsp;"""</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">print</span>(START_MESSAGE)<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">print</span>(<span style="color:#3ad900;font-weight:400">"Script&nbsp;Location:"</span>,&nbsp;location)<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">print</span>(<span style="color:#3ad900;font-weight:400">"Arguments&nbsp;Passed:"</span>,&nbsp;args)</div></div><br /><br /><h3>7. The </h3><code><h3>if __name__ == '__main__'</h3></code><h3> Block</h3><br /><br />• When a Python script is executed, it is given the internal <code>__name__</code> of <code>__main__</code> by the Python interpreter<br />• This allows us to use the <code>__name__</code> variable to determine (at run time) if our Python file is being executed or imported<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Check&nbsp;to&nbsp;see&nbsp;if&nbsp;this&nbsp;file&nbsp;is&nbsp;the&nbsp;"__main__"&nbsp;script&nbsp;being&nbsp;executed</span><br />if&nbsp;<span style="color:#333333;font-weight:400">__name__</span>&nbsp;==&nbsp;<span style="color:#3ad900;font-weight:400">'__main__'</span>:<br />&nbsp;&nbsp;&nbsp;&nbsp;_,&nbsp;*script_args&nbsp;=&nbsp;sys.argv<br />&nbsp;&nbsp;&nbsp;&nbsp;main(*script_args)</div></div><br /><br />• You can call your "main" function whatever you like. There is no special significance of the function name <code>main()</code><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Imports</h2><br /><br />• There are 2 syntaxes for importing functionality to a script<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Import</span><br /><span style="color:#0088ff;font-weight:400">##&nbsp;Syntax&nbsp;#1</span><br /><span style="color:#333333;font-weight:400">import</span>&nbsp;os<br /><br /><span style="color:#0088ff;font-weight:400">##&nbsp;Syntax&nbsp;#2</span><br /><span style="color:#333333;font-weight:400">from</span>&nbsp;os.path&nbsp;<span style="color:#333333;font-weight:400">import</span>&nbsp;abspath</div></div><br /><br />• The <code>from ___ import ___</code> syntax provides a way for us to pull in only the functionality we need, and simplify the names of deeply nested resources<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Making&nbsp;function&nbsp;call</span><br /><span style="color:#0088ff;font-weight:400">##&nbsp;Using&nbsp;Syntax&nbsp;#1</span><br />os.path.abspath()<br /><br /><span style="color:#0088ff;font-weight:400">##&nbsp;Using&nbsp;Syntax&nbsp;#2</span><br />abspath()</div></div><br /><br /><p align="center"><img src="images\home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>