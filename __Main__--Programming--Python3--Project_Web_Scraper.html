<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Project: Web Scraper</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><a name="h1-1"></a><h1>﻿Python Project: Web Scraper</h1><h2><br /><br />Basic Python Project Setup</h2><br /> <br /><div class="codebox"><div class="codebox"><span style="color:#ff9d00;font-weight:700">cd</span>&nbsp;~<span style="color:#ff9d00;font-weight:700">/</span>p3project<span style="color:#ff9d00;font-weight:700">/</span>code<br /><span style="color:#ff9d00;font-weight:700">mkdir</span>&nbsp;bundlescraper<br /><span style="color:#ff9d00;font-weight:700">cd</span>&nbsp;bundlescraper<br /><span style="color:#ff9d00;font-weight:700">touch</span>&nbsp;bundlescraper.py<br /><span style="color:#ff9d00;font-weight:700">chmod</span>&nbsp;+x&nbsp;bundlescraper.py</div></div><br /><br />• Inside file bundlescraper.py<br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#!/usr/bin/evn&nbsp;python3</span><br /><span style="color:#ff9d00;font-weight:700">print</span>(<span style="color:#3ad900;font-weight:400">"Hello&nbsp;World"</span>)</div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Run&nbsp;script</span><br />./bundlescraper.py</div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><a name="h2-1"></a><h2>Basic virtualenv Usage</h2><br />• Refers to <a href="__Main__--Programming--Python3--0._Environment_Setup.html">here</a> for inital installation &amp; setup of python virtual environment<br /><br /><div class="codebox"><div class="codebox"><span style="color:#ff9d00;font-weight:700">cd</span>&nbsp;~<span style="color:#ff9d00;font-weight:700">/</span>py3project<span style="color:#ff9d00;font-weight:700">/</span>code<span style="color:#ff9d00;font-weight:700">/</span>bundlescraper<br /><span style="color:#ff9d00;font-weight:700">touch</span>&nbsp;requirements.txt</div></div><br /><br /><div class="codebox"><div class="codebox">virtualenv&nbsp;-p&nbsp;python3&nbsp;venv&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;initiate</span><br /><span style="color:#ff9d00;font-weight:700">source</span>&nbsp;venv<span style="color:#ff9d00;font-weight:700">/</span>bin<span style="color:#ff9d00;font-weight:700">/</span>activate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;activate</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;(venv)&nbsp;is&nbsp;prepend&nbsp;to&nbsp;the&nbsp;prompt</span><br />deactivate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;exit</span></div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><a name="h2-2"></a><h2>﻿Start programming our prototype!</h2><br /><br />• Put the following in the first line of file bundlescraper.py<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#!/usr/bin/env&nbsp;python3</span></div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Install&nbsp;libraries</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Instead&nbsp;of&nbsp;'pip&nbsp;install&nbsp;requests',&nbsp;do&nbsp;this</span><br /><span style="color:#ff9d00;font-weight:700">echo</span>&nbsp;<span style="color:#3ad900;font-weight:400">"requests"</span>&nbsp;&gt;&gt;&nbsp;requirements.txt<br />pip&nbsp;<span style="color:#ff9d00;font-weight:700">install</span>&nbsp;-r&nbsp;requirements.txt</div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Try&nbsp;run&nbsp;each&nbsp;line&nbsp;in&nbsp;python&nbsp;shell&nbsp;first</span><br /><span style="color:#333333;font-weight:400">import</span>&nbsp;requests<br />url&nbsp;=&nbsp;<span style="color:#3ad900;font-weight:400">"https://www.humblebundle.com/books/cloud-computing-books"</span><br />r&nbsp;=&nbsp;requests.get(url)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;get&nbsp;contents</span><br />r.status_code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;expect&nbsp;'200'</span><br />r.__dict__&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;examine&nbsp;contents</span><br />r.text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;html&nbsp;document</span></div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><a name="h2-3"></a><h2>﻿Parsing HTML with Python and Beautiful Soup (bs4)</h2><br />• Make html human readable<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Intall&nbsp;library&nbsp;bs4</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;from&nbsp;bash&nbsp;shell</span><br />echo&nbsp;<span style="color:#3ad900;font-weight:400">"bs4"</span>&nbsp;&gt;&gt;&nbsp;requirements.txt<br />pip&nbsp;install&nbsp;-r&nbsp;requirements.txt</div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Try&nbsp;run&nbsp;each&nbsp;line&nbsp;in&nbsp;python&nbsp;shell&nbsp;first</span><br />soup&nbsp;=&nbsp;BeautifulSoup(response.text,&nbsp;<span style="color:#3ad900;font-weight:400">'html.parser'</span>)<br />soup.title<br />soup.p</div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><a name="h2-4"></a><h2>Inspecting DOM Elements</h2><br />• Using the browser, hover to the thing that is of interest, right click and select “Inspect Element”<br />• Get the id / class of the element we want<br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><a name="h2-5"></a><h2>Design Data Structure</h2><br />• Useful to do once you know what you want<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Design&nbsp;Data&nbsp;Structure</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;-&nbsp;tier&nbsp;1&nbsp;name&nbsp;and&nbsp;price</span><br /><span style="color:#0088ff;font-weight:400">#		-&nbsp;product1</span><br /><span style="color:#0088ff;font-weight:400">#		-&nbsp;product2</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;-&nbsp;tier&nbsp;2&nbsp;name&nbsp;and&nbsp;price</span><br /><span style="color:#0088ff;font-weight:400">#		-&nbsp;product1</span><br /><span style="color:#0088ff;font-weight:400">#		-&nbsp;product2</span></div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><a name="h2-6"></a><h2>Common Data Structure Operations</h2><br />• Try them, to see if you've got the right design<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Try&nbsp;on&nbsp;editor&nbsp;and&nbsp;paste&nbsp;to&nbsp;python&nbsp;shell</span><br />tiers&nbsp;=&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"tier1"</span>:{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"price"</span>:<span style="color:#ff0044;font-weight:400">500</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"products"</span>:[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"name1"</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"name2"</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />&nbsp;&nbsp;&nbsp;&nbsp;},<br />&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"tier2"</span>:{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"price"</span>:<span style="color:#ff0044;font-weight:400">500</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"products"</span>:[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"name1"</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"name2"</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;In&nbsp;python&nbsp;shell</span><br />&gt;&gt;&gt;&nbsp;tiers<br />&gt;&gt;&gt;&nbsp;tiers.keys()</div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><a name="h2-7"></a><h2>Python List Comprehensions</h2><br /><br /><div class="codebox"><div class="codebox">&gt;&gt;&gt;&nbsp;[key.upper()&nbsp;<span style="color:#ff9d00;font-weight:700">for</span>&nbsp;key&nbsp;<span style="color:#ff9d00;font-weight:700">in</span>&nbsp;tier.keys()]<br />[<span style="color:#3ad900;font-weight:400">'TIER1'</span>,&nbsp;<span style="color:#3ad900;font-weight:400">'TIER2'</span>]<br /></div></div><br /><br /><p align="center"><img src="images\home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>