<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>grub</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><h1>Grub Rescue | Repairing Grub</h1><br /><br /><h2>Scenario #1: Repairing from a GRUB&gt; Prompt</h2><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Setup&nbsp;scenario</span><br /><span style="color:#ff9d00;font-weight:700">rm</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>boot<span style="color:#ff9d00;font-weight:700">/</span>grub<span style="color:#ff9d00;font-weight:700">/</span>grub.cfg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;delete&nbsp;file</span><br /><span style="color:#ff9d00;font-weight:700">sudo</span>&nbsp;grub-install&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>sda<br /><span style="color:#ff9d00;font-weight:700">sudo</span>&nbsp;reboot<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;After&nbsp;reboot,&nbsp;you're&nbsp;in&nbsp;grub&nbsp;mode</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Locate&nbsp;the&nbsp;partition&nbsp;to&nbsp;boot&nbsp;to</span><br />grub&gt;&nbsp;<span style="color:#ff9d00;font-weight:700">ls</span><br /><span style="color:#ff9d00;font-weight:700">(</span>hd0<span style="color:#ff9d00;font-weight:700">)</span>&nbsp;<span style="color:#ff9d00;font-weight:700">(</span>hd0,msdos1<span style="color:#ff9d00;font-weight:700">)</span><br />grub&gt;&nbsp;<span style="color:#ff9d00;font-weight:700">ls</span>&nbsp;<span style="color:#ff9d00;font-weight:700">(</span>hd0,msdos1<span style="color:#ff9d00;font-weight:700">)/</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;can&nbsp;use&nbsp;tab&nbsp;completion</span><br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Once&nbsp;you&nbsp;locate&nbsp;the&nbsp;partition&nbsp;to&nbsp;boot&nbsp;to:</span><br />grub&gt;&nbsp;<span style="color:#ff9d00;font-weight:700">set</span>&nbsp;root=<span style="color:#ff9d00;font-weight:700">(</span>hd0,msdos1<span style="color:#ff9d00;font-weight:700">)</span><br />grub&gt;&nbsp;linux&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>boot<span style="color:#ff9d00;font-weight:700">/</span>vmlinuz-linux&nbsp;<span style="color:#ff9d00;font-weight:700">(</span>tab&nbsp;<span style="color:#ff9d00;font-weight:700">complete)</span>&nbsp;root=<span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>sdaX<br />grub&gt;&nbsp;initrd&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>boot<span style="color:#ff9d00;font-weight:700">/</span>initrd&nbsp;<span style="color:#ff9d00;font-weight:700">(</span>tab&nbsp;compelete<span style="color:#ff9d00;font-weight:700">)</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;example:&nbsp;initrd.img-4.19.0-0.bpo.4-amd64</span><br />grub&gt;&nbsp;boot<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;You&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;boot&nbsp;and&nbsp;login&nbsp;as&nbsp;normal</span><br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;After&nbsp;login,&nbsp;generate&nbsp;grub&nbsp;configuaration&nbsp;file</span><br /><span style="color:#ff9d00;font-weight:700">sudo</span>&nbsp;-i<br />update-grub&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;debian-based&nbsp;distro</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;or</span><br />grub-mkconfig&nbsp;-o&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>boot<span style="color:#ff9d00;font-weight:700">/</span>grub<span style="color:#ff9d00;font-weight:700">/</span>grub.cfg&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;other&nbsp;distro</span><br />grub-install&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>sdX<br />reboot</div></div><br /><br /><h2>Scenario #2: Repairing from a GRUB Rescue &gt; Prompt</h2><br />â€¢ Live CD/ media required<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Setup&nbsp;scenario</span><br /><span style="color:#ff9d00;font-weight:700">sudo</span>&nbsp;-i<br /><span style="color:#ff9d00;font-weight:700">cd</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>boot<br /><span style="color:#ff9d00;font-weight:700">rm</span>&nbsp;-rf&nbsp;grub<span style="color:#ff9d00;font-weight:700">/</span><br />reboot<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;After&nbsp;reboot,&nbsp;you're&nbsp;in&nbsp;grub&nbsp;rescue&nbsp;mode</span><br />grub&nbsp;rescue&gt;<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Insert&nbsp;the&nbsp;Live&nbsp;CD/&nbsp;media&nbsp;and&nbsp;reboot</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Inside&nbsp;Live&nbsp;CD/&nbsp;media&nbsp;as&nbsp;root</span><br /><span style="color:#ff9d00;font-weight:700">mount</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>sdaX&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>mnt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;set&nbsp;mount&nbsp;point</span><br /><span style="color:#ff9d00;font-weight:700">chroot</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>mnt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;run&nbsp;shell&nbsp;with&nbsp;root&nbsp;under&nbsp;/mnt</span><br /><span style="color:#ff9d00;font-weight:700">mkdir</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>boot<span style="color:#ff9d00;font-weight:700">/</span>grub&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;rebuild&nbsp;grub</span><br />update-grub&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;debian-based&nbsp;distro</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;or</span><br />grub-mkconfig&nbsp;-o&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>boot<span style="color:#ff9d00;font-weight:700">/</span>grub<span style="color:#ff9d00;font-weight:700">/</span>grub.cfg&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;other&nbsp;distro</span><br /><span style="color:#ff9d00;font-weight:700">cd</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>boot<span style="color:#ff9d00;font-weight:700">/</span>grub<span style="color:#ff9d00;font-weight:700">/</span><br /><span style="color:#ff9d00;font-weight:700">ls</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;You&nbsp;should&nbsp;see&nbsp;have&nbsp;1&nbsp;file:&nbsp;grub.cfg</span><br />grub-install&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>sdX<br /><span style="color:#ff9d00;font-weight:700">ls</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;You&nbsp;should&nbsp;see&nbsp;other&nbsp;files&nbsp;in&nbsp;addition&nbsp;to&nbsp;grub.cfg</span><br /><span style="color:#ff9d00;font-weight:700">exit</span><br />reboot</div></div><br /><br /><p align="center"><img src="images\home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>