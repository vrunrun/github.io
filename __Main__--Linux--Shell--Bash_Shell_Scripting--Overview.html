<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Overview</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><h1>Overview</h1><br /><br />• Only for light task automation, not for complex task<br />• For example, doing a backup<br />• If &gt; 100-150 lines, use programming tool like python, pearl, ruby instead<br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Prerequisites</h2><br /><br />• <a href="__Main__--Linux--Shell--Pipes_&_Redirections.html">Pipes &amp; Redirection</a><br />• <a href="__Main__--Linux--Shell--Filtering_Commands.html">Filtering</a><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Variables and Quoting</h2><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Variable</span><br /><span style="color:#7f0044;font-weight:400">some_number</span>=6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;Set&nbsp;a&nbsp;variable</span><br /><span style="color:#ff9d00;font-weight:700">echo</span>&nbsp;<span style="color:#7f0044;font-weight:400">$some_number</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;Call&nbsp;a&nbsp;variable</span></div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Variable</span><br /><span style="color:#7f0044;font-weight:400">num_lines</span>=<span style="color:#333333;font-weight:400">`ls&nbsp;$HOME&nbsp;|&nbsp;wc&nbsp;-l`</span><br /><span style="color:#ff9d00;font-weight:700">echo</span>&nbsp;<span style="color:#7f0044;font-weight:400">$num_lines</span><br />10</div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Quoting</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Insert&nbsp;a&nbsp;variable&nbsp;in&nbsp;a&nbsp;string</span><br /><span style="color:#ff9d00;font-weight:700">echo</span>&nbsp;<span style="color:#3ad900;font-weight:400">"My&nbsp;favorite&nbsp;number&nbsp;is&nbsp;$some_number"</span><br />My&nbsp;favorite&nbsp;number&nbsp;is&nbsp;6<br /><br /><span style="color:#ff9d00;font-weight:700">echo</span>&nbsp;<span style="color:#3ad900;font-weight:400">"This&nbsp;is&nbsp;my&nbsp;${some_number}th&nbsp;beer"</span><br />This&nbsp;is&nbsp;my&nbsp;6th&nbsp;beer</div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Quoting</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Get&nbsp;output&nbsp;of&nbsp;a&nbsp;command&nbsp;inserted&nbsp;in&nbsp;a&nbsp;string</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Use&nbsp;backquotes&nbsp;`&nbsp;`</span><br /><span style="color:#ff9d00;font-weight:700">echo</span>&nbsp;<span style="color:#3ad900;font-weight:400">"There&nbsp;are&nbsp;`wc&nbsp;-l&nbsp;&lt;&nbsp;/etc/group`&nbsp;of&nbsp;lines&nbsp;in&nbsp;/etc/group"</span></div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>First Bash Script</h2><br /><br /><div class="codebox"><div class="codebox"><span style="color:#ff9d00;font-weight:700">which</span>&nbsp;<span style="color:#ff9d00;font-weight:700">bash</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;locate&nbsp;command&nbsp;bash&nbsp;(to&nbsp;be&nbsp;put&nbsp;in&nbsp;script)</span></div></div><br /><br />• By convention, script files are saved with file extension .sh<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#!/bin/bash&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;must&nbsp;be&nbsp;the&nbsp;first&nbsp;line&nbsp;of&nbsp;code</span><br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;this&nbsp;is&nbsp;a&nbsp;comment</span><br /><span style="color:#ff9d00;font-weight:700">echo</span>&nbsp;<span style="color:#3ad900;font-weight:400">"Hello&nbsp;World!"</span><br /><br /><span style="color:#ff9d00;font-weight:700">exit</span>&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;exit&nbsp;code&nbsp;0&nbsp;means&nbsp;no&nbsp;problem</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;or</span><br /><span style="color:#ff9d00;font-weight:700">exit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;use&nbsp;return&nbsp;value&nbsp;from&nbsp;last&nbsp;line&nbsp;of&nbsp;code</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;or</span><br /><span style="color:#ff9d00;font-weight:700">exit</span>&nbsp;<span style="color:#7f0044;font-weight:400">$?</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;exit&nbsp;with&nbsp;the&nbsp;return&nbsp;status&nbsp;of&nbsp;the&nbsp;last&nbsp;run&nbsp;command</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;or</span><br /><span style="color:#ff9d00;font-weight:700">exit</span>&nbsp;12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;user&nbsp;defined&nbsp;exit&nbsp;code</span></div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Arguments</h2><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Arguments&nbsp;reference</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;file:&nbsp;arg.sh</span><br /><span style="color:#7f0044;font-weight:400">$#</span>&nbsp;→&nbsp;number&nbsp;of&nbsp;args&nbsp;that&nbsp;the&nbsp;script&nbsp;was&nbsp;run&nbsp;with<br /><span style="color:#7f0044;font-weight:400">$0</span>&nbsp;→&nbsp;the&nbsp;filename&nbsp;of&nbsp;the&nbsp;script<br /><span style="color:#7f0044;font-weight:400">$1</span>..<span style="color:#7f0044;font-weight:400">$n</span>&nbsp;→&nbsp;actual&nbsp;script&nbsp;arguments<br /><span style="color:#7f0044;font-weight:400">$@</span>&nbsp;→&nbsp;all&nbsp;arguments<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;What's&nbsp;is&nbsp;our&nbsp;filename?</span><br /><span style="color:#7f0044;font-weight:400">outfilename</span>=<span style="color:#7f0044;font-weight:400">$0</span><br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;How&nbsp;many&nbsp;arguments&nbsp;was&nbsp;the&nbsp;script&nbsp;called&nbsp;with</span><br /><span style="color:#7f0044;font-weight:400">num_arguments</span>=<span style="color:#7f0044;font-weight:400">$#</span><br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;What&nbsp;were&nbsp;the&nbsp;arguments?</span><br /><span style="color:#ff9d00;font-weight:700">echo</span>&nbsp;<span style="color:#3ad900;font-weight:400">"The&nbsp;first&nbsp;three&nbsp;arguments&nbsp;were&nbsp;${1},&nbsp;${2}&nbsp;and&nbsp;${3}"</span></div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Run the Scripts</h2><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Change&nbsp;file&nbsp;permission&nbsp;before&nbsp;executing&nbsp;the&nbsp;script</span><br /><span style="color:#ff9d00;font-weight:700">chmod</span>&nbsp;+x&nbsp;arg.sh<br />.<span style="color:#ff9d00;font-weight:700">/</span>arg.sh&nbsp;hello&nbsp;there&nbsp;yo<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Output</span><br />.<span style="color:#ff9d00;font-weight:700">/</span>arg.sh<br />The&nbsp;first&nbsp;three&nbsp;arguments&nbsp;were&nbsp;hello&nbsp;there&nbsp;yo</div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Run&nbsp;the&nbsp;script</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Run&nbsp;in&nbsp;the&nbsp;same&nbsp;instance&nbsp;of&nbsp;bash</span><br />.<span style="color:#ff9d00;font-weight:700">/</span>helloworld.sh<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Use&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;bash&nbsp;to&nbsp;run</span><br /><span style="color:#ff9d00;font-weight:700">bash</span>&nbsp;helloworld.sh<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Integrate&nbsp;variables&nbsp;defined&nbsp;in&nbsp;script&nbsp;with&nbsp;the&nbsp;current&nbsp;instance</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;so&nbsp;that&nbsp;you&nbsp;can&nbsp;use&nbsp;the&nbsp;variables&nbsp;defined&nbsp;in&nbsp;the&nbsp;script&nbsp;afterwards</span><br /><span style="color:#ff9d00;font-weight:700">source</span>&nbsp;helloworld.sh<br /><span style="color:#0088ff;font-weight:400">#&nbsp;or</span><br />.&nbsp;helloworld.sh</div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Reload Bash Shell</h2><br /><br /><div class="codebox"><div class="codebox"><span style="color:#ff9d00;font-weight:700">source</span>&nbsp;~<span style="color:#ff9d00;font-weight:700">/</span>.bashrc</div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Further Reading</h2><br /><br /><div class="codebox"><div class="codebox"><span style="color:#ff9d00;font-weight:700">man</span>&nbsp;<span style="color:#ff9d00;font-weight:700">bash</span></div></div><br /><br />• <a href="https://wiki.bash-hackers.org/syntax/quoting">Bash Quoting</a><br />• <a href="https://ss64.com/bash/set.html">Set</a><p align="center"><img src="images\home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>