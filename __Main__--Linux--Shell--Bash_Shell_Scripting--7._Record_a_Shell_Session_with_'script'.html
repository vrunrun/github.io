<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>7. Record a Shell Session with 'script'</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><h1>Record Your Shell Sessions with ‘script’  command</h1><br /><br /><h2>Common  Uses</h2><br />• Documentation<br />   ◇ on how to do a specific thing<br />• Proof<br />   ◇ that you've done something<br />• Troubleshooting<br />   ◇ capture a hard-to-replicate issue, record hard-to-produce issues<br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Record</h2><br /><br /><div class="codebox"><div class="codebox">syntax<span style="color:#ff9d00;font-weight:700">:</span>&nbsp;script&nbsp;[filename]<br />script&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;start&nbsp;recording</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;do&nbsp;some&nbsp;stuff</span><br /><span style="color:#ff9d00;font-weight:700">echo</span>&nbsp;“Done”<br /><span style="color:#ff9d00;font-weight:700">exit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;end&nbsp;recording</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;or</span><br />ctrl<span style="color:#ffdd00;font-weight:400">-d</span></div></div><br /><br />• By default, script command output is saved in file ‘typescript’<br /> <br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Examine ‘script’ Output</h2><br /><br /><div class="codebox"><div class="codebox"><span style="color:#ff9d00;font-weight:700">less</span>&nbsp;typescript&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;contains&nbsp;special&nbsp;characters,&nbsp;LF&nbsp;etc.</span></div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Real-time Recordings</h2><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Add&nbsp;timing&nbsp;information,&nbsp;so&nbsp;you&nbsp;can&nbsp;replay&nbsp;the&nbsp;shell&nbsp;session&nbsp;later</span><br />script&nbsp;myscript.log&nbsp;--timing=time.log<br /><span style="color:#0088ff;font-weight:400">#or</span><br />script&nbsp;myscript.log&nbsp;-t&nbsp;time.log<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;do&nbsp;some&nbsp;stuff</span><br />ctrl<span style="color:#ffdd00;font-weight:400">-d</span><br /><span style="color:#ff9d00;font-weight:700">ls</span>&nbsp;myscript.log&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;contains&nbsp;more&nbsp;special&nbsp;characters</span></div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Replay a script log</h2><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;﻿Replaying&nbsp;a&nbsp;script&nbsp;won't&nbsp;actually&nbsp;perform&nbsp;the&nbsp;same&nbsp;actions&nbsp;again</span><br />scriptreplay&nbsp;-s=myscript.log&nbsp;--timing=time.log<br /><span style="color:#0088ff;font-weight:400">#&nbsp;or</span><br />scriptreplay&nbsp;-s=myscript.log&nbsp;-t&nbsp;time.log</div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Log a Single Command</h2><br /><br /><div class="codebox"><div class="codebox">script&nbsp;-c&nbsp;<span style="color:#3ad900;font-weight:400">'netstat&nbsp;-tupln'</span>&nbsp;netstat.log<br /><span style="color:#ff9d00;font-weight:700">less</span>&nbsp;netstat.log</div></div><br /><p align="center"><img src="images\home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>