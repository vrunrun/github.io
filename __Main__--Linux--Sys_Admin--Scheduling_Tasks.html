<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Scheduling Tasks</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><h1>Scheduling Tasks</h1><br />• Each user has a <strong>crontab</strong> (cron table) which is a table that you configure schduled tasks<br /><br /><div class="codebox"><div class="codebox">crontab&nbsp;-l&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;list&nbsp;crontab&nbsp;of&nbsp;user</span><br />crontab&nbsp;-e&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;edit&nbsp;user&nbsp;specific&nbsp;crontab</span></div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Example</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;/var/spool/cron/crontabs/&nbsp;(user)</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;m&nbsp;h&nbsp;dom&nbsp;mon&nbsp;dow&nbsp;command</span><br />15&nbsp;&nbsp;10&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;3-5&nbsp;<span style="color:#ff9d00;font-weight:700">echo</span>&nbsp;<span style="color:#3ad900;font-weight:400">"$(date):&nbsp;checking&nbsp;in."</span>&nbsp;&gt;&gt;&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>home<span style="color:#ff9d00;font-weight:700">/</span>$<span style="color:#ff9d00;font-weight:700">(whoami)/</span>mycheckin</div></div><br /><br />• 6 fields need to be defined in crontab<br />   ◇ minutes<br />   ◇ hour<br />   ◇ day of month (dom)<br />      ▪ * means every day<br />   ◇ month of year (mon)<br />      ▪ * means every month<br />   ◇ day of week (dow)<br />      ▪ range: 1 to 7, 1 means monday<br />   ◇ user<br />      ▪ exist in system-wide crontab only (see below)<br />   ◇ command<br />      ▪ interpreted by <em>sh</em><br /><br />• User defined crontabs are stored in <strong>/var/spool/cron/crontabs/</strong> . One for each user<br />• Package specified crontabs are stored in <strong>/etc/cron.d</strong><br />• Syetem-wide crontab is stored in /etc/crontab<br /><br /><div class="codebox"><div class="codebox"><span style="color:#ff9d00;font-weight:700">sudo</span>&nbsp;<span style="color:#ff9d00;font-weight:700">ls</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>var<span style="color:#ff9d00;font-weight:700">/</span>spool<span style="color:#ff9d00;font-weight:700">/</span>cron<span style="color:#ff9d00;font-weight:700">/</span>crontabs<span style="color:#ff9d00;font-weight:700">/</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;user&nbsp;specific</span><br /><span style="color:#ff9d00;font-weight:700">sudo</span>&nbsp;<span style="color:#ff9d00;font-weight:700">ls</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>etc<span style="color:#ff9d00;font-weight:700">/</span>cron.d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;program&nbsp;specific</span><br /><span style="color:#ff9d00;font-weight:700">sudo</span>&nbsp;<span style="color:#ff9d00;font-weight:700">ls</span>&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>etc<span style="color:#ff9d00;font-weight:700">/</span>crontab&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;system-wide</span></div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Examples:</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;/etc/crontab&nbsp;(system-wide)</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;m&nbsp;h&nbsp;dom&nbsp;mon&nbsp;dow&nbsp;user&nbsp;command</span><br />15&nbsp;&nbsp;10&nbsp;&nbsp;1-10<span style="color:#ff9d00;font-weight:700">/</span>2&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">echo</span>&nbsp;<span style="color:#3ad900;font-weight:400">"$(date):&nbsp;checkin"</span>&nbsp;&gt;&gt;&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>var<span style="color:#ff9d00;font-weight:700">/</span>log<span style="color:#ff9d00;font-weight:700">/</span>croncheck.log<br /><span style="color:#0088ff;font-weight:400">#&nbsp;/2&nbsp;means&nbsp;every&nbsp;2&nbsp;days</span><br /><br />15&nbsp;&nbsp;10&nbsp;&nbsp;1,2,3,7&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#ff9d00;font-weight:700">echo</span>&nbsp;<span style="color:#3ad900;font-weight:400">"$(date):&nbsp;checkin"</span>&nbsp;&gt;&gt;&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>var<span style="color:#ff9d00;font-weight:700">/</span>log<span style="color:#ff9d00;font-weight:700">/</span>croncheck.log</div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>White List</h2><br />• Create <strong>/etc/cron.allow</strong> to lock out cron<br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Edit a Specific User Crontab (for root)</h2><br />• Instead of editing <strong>/var/spool/cron/crontabs/</strong> for a specific user, edit via the following<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Edit&nbsp;with&nbsp;root&nbsp;privilege</span><br />crontab&nbsp;-e&nbsp;-u&nbsp;username</div></div><br /><br /><p align="center"><img src="images\home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>