<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Processes</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><h2>Overview</h2><br />• Each process has its own <strong>PID</strong> (process ID) but there is an exception. For example, you can find two PID 1 if you use virtualization<br />• PID 1 is always “init”, run at boot<br />• All processes except init are created by other process<br /><br /><div class="codebox"><div class="codebox"><span style="color:#ff9d00;font-weight:700">ps</span>&nbsp;aux&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;To&nbsp;see&nbsp;all&nbsp;processes&nbsp;running&nbsp;in&nbsp;the&nbsp;system</span><br /><span style="color:#ff9d00;font-weight:700">ps</span>&nbsp;aux&nbsp;<span style="color:#ff9d00;font-weight:700">|</span>&nbsp;<span style="color:#ff9d00;font-weight:700">grep</span>&nbsp;init</div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Display&nbsp;processes</span><br />top<br /><span style="color:#0088ff;font-weight:400">#&nbsp;or</span><br />htop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;recommended&nbsp;but&nbsp;need&nbsp;to&nbsp;install</span></div></div><br /><br />• PID 1 is always “init”, run at boot<br />• Init is the parent of all processes<br /><br /><div class="codebox"><div class="codebox"><span style="color:#ff9d00;font-weight:700">ps</span>&nbsp;aux&nbsp;<span style="color:#ff9d00;font-weight:700">|</span>&nbsp;<span style="color:#ff9d00;font-weight:700">grep</span>&nbsp;init</div></div><br /><br />• <strong>UID</strong> identifies who own the process<br />• <strong>EUID</strong> (effective uid) is a way to give a user, other than the one who owns the process to spawn the process<br />• If you have a low priority task, you set the <strong>niceness</strong> high<br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>Process SIgnals</h2><br />• The way that a process communicates<br />• Sent by the kernel when the process did something bad like division by zero or when someting is ready<br />• Signals are sent to parent process(es) and the kernel<br />• <a href="https://manpages.debian.org/stretch/manpages/signal.7.en.html#Standard_signals">Standard Signals (man 7 signal)</a><br />   ◇ SIGTERM (15): terminate (default)<br />   ◇ SIGKILL (9): kill<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;List&nbsp;of&nbsp;signals</span><br /><span style="color:#ff9d00;font-weight:700">kill</span>&nbsp;-l</div></div> <br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Terminate&nbsp;a&nbsp;process</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;For&nbsp;example&nbsp;firefox</span><br /><span style="color:#ff9d00;font-weight:700">ps</span>&nbsp;aux&nbsp;<span style="color:#ff9d00;font-weight:700">|</span>&nbsp;<span style="color:#ff9d00;font-weight:700">grep</span>&nbsp;firefox<br /><span style="color:#ff9d00;font-weight:700">kill</span>&nbsp;15&nbsp;2196&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;15&nbsp;=&nbsp;terminate&nbsp;(default),&nbsp;2196&nbsp;=&nbsp;pid</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;or</span><br /><span style="color:#ff9d00;font-weight:700">kill</span>&nbsp;2196</div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Kill&nbsp;a&nbsp;process</span><br /><span style="color:#ff9d00;font-weight:700">kill</span>&nbsp;9&nbsp;2196&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;last&nbsp;resort.&nbsp;may&nbsp;lead&nbsp;to&nbsp;corrupted&nbsp;data</span></div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Kill&nbsp;all&nbsp;processes&nbsp;by&nbsp;process&nbsp;name</span><br /><span style="color:#ff9d00;font-weight:700">ps</span>&nbsp;aux&nbsp;<span style="color:#ff9d00;font-weight:700">|</span>&nbsp;<span style="color:#ff9d00;font-weight:700">grep</span>&nbsp;cups&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0088ff;font-weight:400">#&nbsp;cups&nbsp;=&nbsp;Common&nbsp;Unix&nbsp;Printing&nbsp;System</span><br /><span style="color:#ff9d00;font-weight:700">sudo</span>&nbsp;<span style="color:#ff9d00;font-weight:700">killall</span>&nbsp;cupsd</div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Kill&nbsp;all&nbsp;processes&nbsp;run&nbsp;by&nbsp;username</span><br /><span style="color:#ff9d00;font-weight:700">sudo</span>&nbsp;pkill&nbsp;-u&nbsp;username</div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;References</span><br /><span style="color:#ff9d00;font-weight:700">man</span>&nbsp;pgrep<br /><span style="color:#ff9d00;font-weight:700">man</span>&nbsp;pkill<br /><span style="color:#ff9d00;font-weight:700">man</span>&nbsp;7&nbsp;signal</div></div><br /><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>State<br /></h2>• There are 4 states that a process can be in:<br />   ◇ runnable<br />   ◇ sleeping<br />   ◇ zombie<br />      ▪ something that has finished and waiting to exit<br />      ▪ If there are too many zombies, check if parent process is frozen<br />   ◇ stopped<br />      ▪ something that is stopped by SIGSTOP and waiting for a SIGCONT to continue<h2><br /><br /></h2>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<h2><br /><br />Niceness<br /></h2>• To find the niceness of a process, look at 4th column (NI) in htop<br />• The higher the number, the lower the priority<br />• Range: -20 to 19 (default = 0)<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Launch&nbsp;a&nbsp;process&nbsp;with&nbsp;nice</span><br /><span style="color:#ff9d00;font-weight:700">nice</span>&nbsp;-n&nbsp;15&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>backup<span style="color:#ff9d00;font-weight:700">/</span>not<span style="color:#ff9d00;font-weight:700">/</span>important<span style="color:#ff9d00;font-weight:700">/</span>at<span style="color:#ff9d00;font-weight:700">/</span>all<span style="color:#ff9d00;font-weight:700">/</span>task</div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Change&nbsp;the&nbsp;niceness&nbsp;of&nbsp;a&nbsp;process</span><br /><span style="color:#0088ff;font-weight:400">#&nbsp;-5:&nbsp;niceness,&nbsp;2744:&nbsp;pid</span><br /><span style="color:#ff9d00;font-weight:700">sudo</span>&nbsp;<span style="color:#ff9d00;font-weight:700">renice</span>&nbsp;-5&nbsp;2744</div></div><br /><br />• You can also change niceness of a process directly in htop by pressing F7 or F8<br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<h2><br /><br />The /proc Filesystem</h2><br />• Proc is a virtual file system and is mounted on /proc<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;List&nbsp;of&nbsp;all&nbsp;processes</span><br /><span style="color:#ff9d00;font-weight:700">ls</span>&nbsp;-alh&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>proc<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;List&nbsp;of&nbsp;init&nbsp;process</span><br /><span style="color:#ff9d00;font-weight:700">sudo</span>&nbsp;<span style="color:#ff9d00;font-weight:700">ls</span>&nbsp;-alh&nbsp;<span style="color:#ff9d00;font-weight:700">/</span>proc<span style="color:#ff9d00;font-weight:700">/</span>1<span style="color:#ff9d00;font-weight:700">/</span>&nbsp;<span style="color:#ff9d00;font-weight:700">|</span>&nbsp;<span style="color:#ff9d00;font-weight:700">less</span></div></div><br />• Notice the size of init process is 0 because they are read and executed on the fly<br /><br /><div class="codebox"><div class="codebox"><span style="color:#ff9d00;font-weight:700">sudo</span>&nbsp;-i<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;How&nbsp;the&nbsp;process&nbsp;is&nbsp;called</span><br /><span style="color:#ff9d00;font-weight:700">cat</span>&nbsp;cmdline</div></div><br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#&nbsp;Reference</span><br /><span style="color:#ff9d00;font-weight:700">man</span>&nbsp;strace</div></div><p align="center"><img src="images\home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>