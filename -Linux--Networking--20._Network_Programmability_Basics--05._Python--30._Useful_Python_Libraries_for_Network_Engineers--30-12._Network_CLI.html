<!doctype html><html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>30-12. Network CLI</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body><h1>Network CLI</h1><br /><br /><h2>Install</h2><br /><br /><div class="codebox"><div class="codebox">pip&nbsp;<span style="color:#ff9d00;font-weight:700">install</span>&nbsp;netmiko</div></div><br /><br />~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br /><br /><h2>When CLI is the Only Option - netmiko</h2><br /><br />• If no other API is available<br />• Builds on <strong>paramiko</strong> library for SSH connectivity<br />• Support for a range of vendors network devices and operating systems<br />• Send and receive clear text<br />   ◇ Post processing of data will be key<br /><br /><div class="codebox"><div class="codebox"><span style="color:#0088ff;font-weight:400">#!&nbsp;/usr/bin/env&nbsp;python</span><br /><span style="color:#3ad900;font-weight:400">"""<br />api_netmiko_example.py<br />Illustrate&nbsp;the&nbsp;following&nbsp;concepts:<br />-&nbsp;Making&nbsp;CLI&nbsp;calls&nbsp;using&nbsp;netmiko&nbsp;library<br />-&nbsp;Intended&nbsp;to&nbsp;be&nbsp;entered&nbsp;into&nbsp;an&nbsp;interactive<br />&nbsp;&nbsp;interpreter<br />"""</span><br /><br /><span style="color:#333333;font-weight:400">from</span>&nbsp;netmiko&nbsp;<span style="color:#333333;font-weight:400">import</span>&nbsp;ConnectHandler<br /><span style="color:#333333;font-weight:400">from</span>&nbsp;pprint&nbsp;<span style="color:#333333;font-weight:400">import</span>&nbsp;pprint<br /><br />router&nbsp;=&nbsp;{<span style="color:#3ad900;font-weight:400">"device_type"</span>:&nbsp;<span style="color:#3ad900;font-weight:400">"cisco_ios"</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"host"</span>:&nbsp;<span style="color:#3ad900;font-weight:400">"10.10.20.48"</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"user"</span>:&nbsp;<span style="color:#3ad900;font-weight:400">"cisco"</span>,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3ad900;font-weight:400">"pass"</span>:&nbsp;<span style="color:#3ad900;font-weight:400">"cisco_1234!"</span>}<br /><br />net_connect&nbsp;=&nbsp;ConnectHandler(ip=router[<span style="color:#3ad900;font-weight:400">"host"</span>],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;username=router[<span style="color:#3ad900;font-weight:400">"user"</span>],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;password=router[<span style="color:#3ad900;font-weight:400">"pass"</span>],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;device_type=router[<span style="color:#3ad900;font-weight:400">"device_type"</span>])<br /><br /><span style="color:#0088ff;font-weight:400">#&nbsp;Send&nbsp;command</span><br />interface_cli&nbsp;=&nbsp;net_connect.send_command(<span style="color:#3ad900;font-weight:400">"show&nbsp;run&nbsp;int&nbsp;Gig1"</span>)<br /><br />pprint(interface_cli)</div></div><br /><br /><p align="center"><img src="images\home.png" height="22" width="22">  <a href="index.html">Index</a></p></body></html>